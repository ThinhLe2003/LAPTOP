@model IEnumerable<LAPTOP.Models.SanPham>

@{
    ViewData["Title"] = "Trang chủ";
    // Lấy các giá trị lọc từ ViewBag để làm nổi bật nút đã chọn
    var hangChon = ViewBag.HangChon;
    var giaChon = ViewBag.GiaChon;
    var nhuCauChon = ViewBag.NhuCauChon;
}

<div class="container mt-3">
    <div class="row g-3">
        <div class="col-lg-8">
            <div id="homeCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="4000">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#homeCarousel" data-bs-slide-to="0" class="active"></button>
                    <button type="button" data-bs-target="#homeCarousel" data-bs-slide-to="1"></button>
                    <button type="button" data-bs-target="#homeCarousel" data-bs-slide-to="2"></button>
                </div>
                <div class="carousel-inner rounded-3 shadow-sm">
                    <div class="carousel-item active">
                        <img src="~/img/logo1.jpg" class="d-block w-100" alt="Chào mừng tân sinh viên 2025">
                    </div>
                    <div class="carousel-item">
                        <img src="~/img/logo2.jpg" class="d-block w-100" alt="Sale mỗi ngày">
                    </div>
                    <div class="carousel-item">
                        <img src="~/img/logo3.jpg" class="d-block w-100" alt="Banner 3">
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#homeCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#homeCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                </button>
            </div>
        </div>
        <div class="col-lg-4">
            <div class="d-flex flex-column">
                <a href="#" class="mb-3">
                    <img src="~/img/hp-overbook.jpg" alt="HP Omnibook" class="img-fluid rounded-3 shadow-sm" />
                </a>
                <a href="#">
                    <img src="~/img/dell-g15.jpg" alt="G15 Gaming" class="img-fluid rounded-3 shadow-sm" />
                </a>
            </div>
        </div>
    </div>
</div>

<div class="container mt-3">
    <div class="row g-3">
        <div class="col-md-3 col-6">
            <a asp-action="Index" asp-route-nhuCau="Gaming" asp-route-hang="Asus"><img src="~/img/banner-tuf-gaming.jpg" alt="TUF Gaming" class="img-fluid rounded-3 shadow-sm" /></a>
        </div>
        <div class="col-md-3 col-6">
            <a asp-action="Index" asp-route-nhuCau="Gaming" asp-route-hang="Lenovo"><img src="~/img/banner-lenovo-gaming.jpg" alt="Lenovo Gaming" class="img-fluid rounded-3 shadow-sm" /></a>
        </div>
        <div class="col-md-3 col-6">
            <a asp-action="Index" asp-route-nhuCau="Gaming"><img src="~/img/banner-gaming-chung.jpg" alt="Gaming" class="img-fluid rounded-3 shadow-sm" /></a>
        </div>
        <div class="col-md-3 col-6">
            <a asp-action="Index" asp-route-nhuCau="Gaming" asp-route-hang="HP"><img src="~/img/banner-hp-victus.jpg" alt="HP Victus" class="img-fluid rounded-3 shadow-sm" /></a>
        </div>
    </div>
</div>

<div class="container mt-4">
    <div class="bg-white p-3 rounded-3 shadow-sm">
        <h5 class="fw-bold mb-3 text-uppercase">Tìm kiếm nhanh</h5>

        <h6 class="text-muted">Theo hãng</h6>
        <div class="d-flex flex-wrap gap-2 mb-3">
            <a asp-action="Index" class="btn @(hangChon == null ? "btn-dark" : "btn-outline-secondary") btn-sm">Tất cả</a>
            <a asp-action="Index" asp-route-hang="Dell" class="btn @(hangChon == "Dell" ? "btn-dark" : "btn-outline-secondary") btn-sm">Dell</a>
            <a asp-action="Index" asp-route-hang="HP" class="btn @(hangChon == "HP" ? "btn-dark" : "btn-outline-secondary") btn-sm">HP</a>
            <a asp-action="Index" asp-route-hang="Asus" class="btn @(hangChon == "Asus" ? "btn-dark" : "btn-outline-secondary") btn-sm">Asus</a>
            <a asp-action="Index" asp-route-hang="Acer" class="btn @(hangChon == "Acer" ? "btn-dark" : "btn-outline-secondary") btn-sm">Acer</a>
            <a asp-action="Index" asp-route-hang="Lenovo" class="btn @(hangChon == "Lenovo" ? "btn-dark" : "btn-outline-secondary") btn-sm">Lenovo</a>
        </div>

        <h6 class="text-muted">Theo giá</h6>
        <div class="d-flex flex-wrap gap-2 mb-3">
            <a asp-action="Index" asp-route-gia="5-10" class="btn @(giaChon == "5-10" ? "btn-dark" : "btn-outline-secondary") btn-sm">Từ 5-10 triệu</a>
            <a asp-action="Index" asp-route-gia="10-20" class="btn @(giaChon == "10-20" ? "btn-dark" : "btn-outline-secondary") btn-sm">Từ 10-20 triệu</a>
            <a asp-action="Index" asp-route-gia="20-30" class="btn @(giaChon == "20-30" ? "btn-dark" : "btn-outline-secondary") btn-sm">Từ 20-30 triệu</a>
            <a asp-action="Index" asp-route-gia="tren-30" class="btn @(giaChon == "tren-30" ? "btn-dark" : "btn-outline-secondary") btn-sm">Trên 30 triệu</a>
        </div>

        <h6 class="text-muted">Theo nhu cầu</h6>
        <div class="d-flex flex-wrap gap-2">
            <a asp-action="Index" asp-route-nhuCau="HocSinh" class="btn @(nhuCauChon == "HocSinh" ? "btn-dark" : "btn-outline-secondary") btn-sm">Học sinh, Sinh viên</a>
            <a asp-action="Index" asp-route-nhuCau="VanPhong" class="btn @(nhuCauChon == "VanPhong" ? "btn-dark" : "btn-outline-secondary") btn-sm">Văn phòng</a>
            <a asp-action="Index" asp-route-nhuCau="Gaming" class="btn @(nhuCauChon == "Gaming" ? "btn-dark" : "btn-outline-secondary") btn-sm">Gaming</a>
            <a asp-action="Index" asp-route-nhuCau="DoHoa" class="btn @(nhuCauChon == "DoHoa" ? "btn-dark" : "btn-outline-secondary") btn-sm">Đồ họa</a>
            <a asp-action="Index" asp-route-nhuCau="MongNhe" class="btn @(nhuCauChon == "MongNhe" ? "btn-dark" : "btn-outline-secondary") btn-sm">Mỏng, nhẹ</a>
            <a asp-action="Index" asp-route-nhuCau="DoanhNhan" class="btn @(nhuCauChon == "DoanhNhan" ? "btn-dark" : "btn-outline-secondary") btn-sm">Doanh nhân</a>
        </div>
    </div>
</div>

<div class="container mt-4">
    <h2 class="text-center mb-4 fw-bold text-danger">💻 LAPTOP NỔI BẬT</h2>
    <div class="row">
        @foreach (var sp in Model)
        {
            <div class="col-lg-3 col-md-4 col-6 mb-4">
                <div class="card shadow-sm h-100 product-card">

                    <img src="~/images/@sp.HinhAnh"
                         class="card-img-top"
                         alt="@sp.TenSp"
                         style="height:200px; object-fit:contain; padding: 10px;">

                    <div class="card-body text-center d-flex flex-column">
                        <h6 class="card-title flex-grow-1">@sp.TenSp</h6>
                        <p class="text-danger fw-bold fs-5">@string.Format("{0:N0} ₫", sp.Gia)</p>
                        
                        <a asp-controller="SanPham" 
                           asp-action="Details" 
                           asp-route-id="@sp.MaSp" 
                           class="btn btn-outline-primary btn-sm mt-auto">Xem chi tiết</a>
                    </div>
                </div>
            </div>
        }
    </div>
</div>