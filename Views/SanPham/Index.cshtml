@model IEnumerable<LAPTOP.Models.SanPham>

@{
    Layout = "_Layout";
}
@{
    ViewData["Title"] = "Sản phẩm";
}

@if (ViewBag.Keyword != null)
{
    <div class="alert alert-info mt-3">
        Kết quả tìm kiếm cho: <strong>"@ViewBag.Keyword"</strong> (@Model.Count() sản phẩm)
    </div>
}
<style>
    /* Bỏ padding của body nếu có để container hoạt động đúng */

    .product-card {
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        background: #fff;
        transition: all 0.3s ease;
        overflow: hidden; /* Bo góc cho cả ảnh */
    }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            border-color: #b0b0b0;
        }

    .product-img-wrapper {
        width: 100%;
        height: 220px; /* Giảm chiều cao một chút cho cân đối */
        display: flex;
        align-items: center;
        justify-content: center;
        background: #fff;
        padding: 15px; /* Thêm padding để ảnh không sát viền */
    }

        .product-img-wrapper img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            transition: transform 0.3s;
        }

    .product-title {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 8px;
        height: 44px; /* Giới hạn chiều cao 2 dòng */
        overflow: hidden;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
    }

    .product-price {
        font-size: 18px;
        font-weight: bold;
        color: #d0021b;
    }

    .btn-themgio {
        background-color: #d0021b;
        color: #fff;
        font-size: 14px;
        border-radius: 4px;
        padding: 6px 12px;
        width: 100%;
    }

        .btn-themgio:hover {
            background-color: #a80014;
            color: #fff;
        }
</style>

<div class="container mt-4">
    <div class="row row-cols-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-5 g-3 justify-content-center">
    @foreach (var item in Model)
    {
        <div class="col">
            <div class="product-card h-100">

                <div class="product-img-wrapper">
                    <a asp-controller="SanPham" asp-action="Details" asp-route-id="@item.MaSp">
                        <img src="@item.HinhAnh" alt="@item.TenSp" />
                    </a>
                </div>

                <div class="product-info text-center p-3">
                    <div class="product-title">@item.TenSp</div>

                    <div class="product-price">
                        @string.Format("{0:N0}", item.Gia) ₫
                    </div>
                </div>

            </div>
        </div>
    }
</div>
</div>
